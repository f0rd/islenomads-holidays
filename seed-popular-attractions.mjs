import mysql from "mysql2/promise";
import dotenv from "dotenv";

dotenv.config();

const popularAttractions = [
  // Dive Sites
  {
    placeId: 9,
    name: "Maaya Thila",
    slug: "maaya-thila",
    attractionType: "dive_site",
    overview: "Maaya Thila is a stunning underwater mountain surrounded by vibrant coral gardens and abundant marine life. This dive site offers excellent visibility and is famous for encounters with sharks, rays, and large schools of fish.",
    difficulty: "intermediate",
    bestSeason: "November to April",
    depthRange: "8-30 meters",
    marineLife: JSON.stringify(["Reef Sharks", "Manta Rays", "Groupers", "Snappers", "Trevally", "Jacks", "Barracuda"]),
    facilities: JSON.stringify(["Dive Resorts", "Equipment Rental", "Guides Available"]),
    safetyTips: JSON.stringify(["Monitor air consumption", "Stay with your buddy", "Check current conditions", "Maintain buoyancy control"]),
    localRules: JSON.stringify(["No spearfishing", "Respect marine life", "Follow guide instructions"]),
    accessInfo: "Accessible from North Male resorts via speedboat, approximately 20-30 minutes.",
    typicalCost: "$55-85 per dive",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/pZyLIXALLogUhjDx.jpg",
    nearestIsland: "North Male Atoll",
    distanceFromIsland: "~12 km",
    published: 1,
    featured: 1,
  },
  {
    placeId: 10,
    name: "Kandooma Thila",
    slug: "kandooma-thila",
    attractionType: "dive_site",
    overview: "Kandooma Thila is a spectacular pinnacle dive site featuring dramatic coral formations and thrilling encounters with pelagic species. Known for its strong currents and exciting drifts, this site is ideal for experienced divers.",
    difficulty: "advanced",
    bestSeason: "November to April",
    depthRange: "15-40 meters",
    marineLife: JSON.stringify(["Sharks", "Tuna", "Jacks", "Groupers", "Moray Eels", "Octopus"]),
    facilities: JSON.stringify(["Dive Resorts", "Liveaboard Boats", "Equipment Rental"]),
    safetyTips: JSON.stringify(["Advanced certification required", "Strong currents", "Plan decompression stops", "Monitor air closely"]),
    localRules: JSON.stringify(["Respect shark sanctuaries", "No spearfishing", "Protected marine area"]),
    accessInfo: "Best accessed via liveaboard boats or from South Male resorts, 45-60 minutes.",
    typicalCost: "$70-110 per dive",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/KduUuNxLlBaRYVvD.jpg",
    nearestIsland: "South Male Atoll",
    distanceFromIsland: "~18 km",
    published: 1,
    featured: 1,
  },
  {
    placeId: 11,
    name: "HP Reef",
    slug: "hp-reef",
    attractionType: "dive_site",
    overview: "HP Reef is a pristine coral garden featuring vibrant hard and soft corals with excellent visibility. This site is perfect for macro photography and offers encounters with colorful reef fish and occasional larger species.",
    difficulty: "beginner",
    bestSeason: "Year-round",
    depthRange: "5-25 meters",
    marineLife: JSON.stringify(["Nudibranchs", "Angelfish", "Butterflyfish", "Wrasses", "Groupers", "Snappers"]),
    facilities: JSON.stringify(["Dive Resorts", "Equipment Rental", "Photography Services"]),
    safetyTips: JSON.stringify(["Excellent for beginners", "Maintain buoyancy", "Watch for sharp coral", "Use dive light for macro"]),
    localRules: JSON.stringify(["No touching coral", "No collection of shells", "Respect marine life"]),
    accessInfo: "Easily accessible from North Male resorts, approximately 15-20 minutes by boat.",
    typicalCost: "$45-70 per dive",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/VtbRCzMUqNIxdkdg.jpg",
    nearestIsland: "North Male Atoll",
    distanceFromIsland: "~8 km",
    published: 1,
    featured: 0,
  },
  {
    placeId: 12,
    name: "Fesdu Wreck",
    slug: "fesdu-wreck",
    attractionType: "dive_site",
    overview: "Fesdu Wreck is a fascinating wreck dive featuring a sunken cargo ship that has become a thriving artificial reef. The wreck offers excellent exploration opportunities and encounters with reef fish that have colonized the structure.",
    difficulty: "intermediate",
    bestSeason: "November to April",
    depthRange: "12-35 meters",
    marineLife: JSON.stringify(["Groupers", "Snappers", "Fusiliers", "Jacks", "Angelfish", "Moray Eels"]),
    facilities: JSON.stringify(["Dive Resorts", "Equipment Rental", "Wreck Guides"]),
    safetyTips: JSON.stringify(["Use wreck diving techniques", "Carry dive light", "Watch for sharp edges", "Stay with buddy"]),
    localRules: JSON.stringify(["No removing artifacts", "Respect wreck structure", "Report hazards"]),
    accessInfo: "Accessible from Baa Atoll resorts, approximately 30-40 minutes by boat.",
    typicalCost: "$60-90 per dive",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/pZyLIXALLogUhjDx.jpg",
    nearestIsland: "Baa Atoll",
    distanceFromIsland: "~15 km",
    published: 1,
    featured: 0,
  },
  // Snorkeling Spots
  {
    placeId: 13,
    name: "Veligandu Reef",
    slug: "veligandu-reef",
    attractionType: "snorkeling_spot",
    overview: "Veligandu Reef is a pristine snorkeling destination featuring vibrant coral gardens and abundant tropical fish. This shallow reef is perfect for families and beginners seeking spectacular underwater views.",
    difficulty: "beginner",
    bestSeason: "November to April",
    depthRange: "1-8 meters",
    marineLife: JSON.stringify(["Clownfish", "Parrotfish", "Angelfish", "Butterflyfish", "Wrasses", "Turtles"]),
    facilities: JSON.stringify(["Snorkel Equipment", "Life Jackets", "Guides", "Nearby Resort"]),
    safetyTips: JSON.stringify(["Apply sunscreen", "Wear rash guard", "Never stand on coral", "Snorkel with buddy"]),
    localRules: JSON.stringify(["No touching coral", "No feeding fish", "Respect marine life"]),
    accessInfo: "Short boat ride from most resorts in North Male, approximately 10-15 minutes.",
    typicalCost: "$15-30 per person",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/DGxKUIGfYDbVsKQZ.jpg",
    nearestIsland: "North Male Atoll",
    distanceFromIsland: "~3 km",
    published: 1,
    featured: 1,
  },
  {
    placeId: 14,
    name: "Banana Reef Lagoon",
    slug: "banana-reef-lagoon",
    attractionType: "snorkeling_spot",
    overview: "Banana Reef Lagoon offers calm, shallow waters perfect for snorkeling with excellent visibility and diverse marine life. The protected lagoon is ideal for families and those seeking a relaxed snorkeling experience.",
    difficulty: "beginner",
    bestSeason: "Year-round",
    depthRange: "1-6 meters",
    marineLife: JSON.stringify(["Clownfish", "Parrotfish", "Surgeonfish", "Angelfish", "Damselfish", "Rays"]),
    facilities: JSON.stringify(["Snorkel Equipment", "Guides", "Boats", "Restaurant"]),
    safetyTips: JSON.stringify(["Calm waters ideal for beginners", "Wear protective clothing", "Stay with guide", "Watch for rays"]),
    localRules: JSON.stringify(["No collection of shells", "Respect marine life", "Follow guide instructions"]),
    accessInfo: "Easily accessible from most Male area resorts, approximately 10-20 minutes.",
    typicalCost: "$20-35 per person",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/EFvAUbfmZaFotZsK.jpg",
    nearestIsland: "Male",
    distanceFromIsland: "~2 km",
    published: 1,
    featured: 0,
  },
  {
    placeId: 15,
    name: "Bikini Beach Reef",
    slug: "bikini-beach-reef",
    attractionType: "snorkeling_spot",
    overview: "Bikini Beach Reef is a beautiful snorkeling destination featuring colorful coral formations and abundant tropical fish. Located near a pristine beach, it's perfect for combining snorkeling with beach relaxation.",
    difficulty: "beginner",
    bestSeason: "November to April",
    depthRange: "2-8 meters",
    marineLife: JSON.stringify(["Angelfish", "Butterflyfish", "Wrasses", "Groupers", "Snappers", "Turtles"]),
    facilities: JSON.stringify(["Snorkel Equipment", "Beach Access", "Guides", "Cafe"]),
    safetyTips: JSON.stringify(["Shallow and safe", "Excellent for families", "Watch for sun exposure", "Snorkel with buddy"]),
    localRules: JSON.stringify(["No touching coral", "Respect marine life", "Follow guide instructions"]),
    accessInfo: "Accessible from Ari Atoll resorts, approximately 25-35 minutes by boat.",
    typicalCost: "$25-40 per person",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/KduUuNxLlBaRYVvD.jpg",
    nearestIsland: "Ari Atoll",
    distanceFromIsland: "~5 km",
    published: 1,
    featured: 0,
  },
  // Surf Spots
  {
    placeId: 16,
    name: "Chickens",
    slug: "chickens",
    attractionType: "surf_spot",
    overview: "Chickens is a legendary left-hand reef break known for its consistent waves and perfect barrels. This world-class surf spot attracts surfers from around the globe seeking challenging and rewarding waves.",
    difficulty: "advanced",
    bestSeason: "March to October",
    waveHeight: "4-8 feet (1.2-2.4 meters)",
    marineLife: JSON.stringify(["Reef Fish", "Trevally", "Barracuda", "Groupers"]),
    facilities: JSON.stringify(["Surf Camps", "Board Rental", "Lessons", "Accommodation"]),
    safetyTips: JSON.stringify(["Wear helmet for reef protection", "Know your skill level", "Check forecasts", "Watch for sharp reef"]),
    localRules: JSON.stringify(["Respect lineup etiquette", "No motorized vehicles", "Respect local culture"]),
    accessInfo: "Accessed via speedboat from Male, approximately 40-50 minutes.",
    typicalCost: "$35-60 per session",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/PQWMZbIMJKUbLLFY.jpg",
    nearestIsland: "North Male Atoll",
    distanceFromIsland: "~8 km",
    published: 1,
    featured: 1,
  },
  {
    placeId: 17,
    name: "Riptides",
    slug: "riptides",
    attractionType: "surf_spot",
    overview: "Riptides is a powerful right-hand reef break offering consistent waves and exciting barrels. This challenging spot is perfect for intermediate to advanced surfers seeking quality waves and a vibrant surf community.",
    difficulty: "intermediate",
    bestSeason: "March to October",
    waveHeight: "3-7 feet (0.9-2.1 meters)",
    marineLife: JSON.stringify(["Reef Fish", "Trevally", "Jacks", "Groupers"]),
    facilities: JSON.stringify(["Surf Camps", "Board Rental", "Lessons", "Restaurant"]),
    safetyTips: JSON.stringify(["Check conditions before paddling", "Know your limits", "Respect other surfers", "Watch for currents"]),
    localRules: JSON.stringify(["Respect lineup etiquette", "No motorized vehicles", "Follow local rules"]),
    accessInfo: "Accessible from Ari Atoll, approximately 30-40 minutes by boat.",
    typicalCost: "$30-50 per session",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/EFvAUbfmZaFotZsK.jpg",
    nearestIsland: "Ari Atoll",
    distanceFromIsland: "~6 km",
    published: 1,
    featured: 0,
  },
  {
    placeId: 18,
    name: "Thalapathi",
    slug: "thalapathi",
    attractionType: "surf_spot",
    overview: "Thalapathi is a fun, beginner-friendly reef break offering consistent waves in a beautiful setting. This spot is perfect for learning to surf or progressing your skills in a supportive environment.",
    difficulty: "beginner",
    bestSeason: "March to October",
    waveHeight: "2-5 feet (0.6-1.5 meters)",
    marineLife: JSON.stringify(["Reef Fish", "Trevally", "Snappers", "Angelfish"]),
    facilities: JSON.stringify(["Surf Camps", "Board Rental", "Lessons", "Guides"]),
    safetyTips: JSON.stringify(["Great for beginners", "Wear helmet", "Take lessons", "Respect other surfers"]),
    localRules: JSON.stringify(["Respect lineup", "No motorized vehicles", "Follow guide instructions"]),
    accessInfo: "Accessible from Male area, approximately 20-30 minutes by boat.",
    typicalCost: "$25-45 per session",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/KduUuNxLlBaRYVvD.jpg",
    nearestIsland: "North Male Atoll",
    distanceFromIsland: "~4 km",
    published: 1,
    featured: 0,
  },
  // Points of Interest
  {
    placeId: 19,
    name: "Male City",
    slug: "male-city",
    attractionType: "poi",
    overview: "Male City is the vibrant capital of the Maldives, featuring historic mosques, colorful buildings, and bustling markets. Explore the rich cultural heritage, local cuisine, and island life in this charming city.",
    difficulty: "beginner",
    bestSeason: "Year-round",
    facilities: JSON.stringify(["Mosques", "Markets", "Restaurants", "Hotels", "Shops"]),
    safetyTips: JSON.stringify(["Respect local customs", "Dress modestly in mosques", "Use official taxis", "Be aware of pickpockets"]),
    localRules: JSON.stringify(["Respect Islamic customs", "No alcohol in public", "Photography restrictions in mosques"]),
    accessInfo: "Easy access from airport via speedboat or ferry, approximately 20-30 minutes.",
    typicalCost: "Free to explore, meals $5-15",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/VtbRCzMUqNIxdkdg.jpg",
    nearestIsland: "Male",
    distanceFromIsland: "City center",
    published: 1,
    featured: 1,
  },
  {
    placeId: 20,
    name: "Artificial Beach",
    slug: "artificial-beach",
    attractionType: "poi",
    overview: "Artificial Beach is a popular public beach in Male offering swimming, sunbathing, and water sports. This well-maintained beach is perfect for relaxation and enjoying the tropical atmosphere.",
    difficulty: "beginner",
    bestSeason: "Year-round",
    facilities: JSON.stringify(["Beach Access", "Water Sports", "Cafes", "Showers", "Parking"]),
    safetyTips: JSON.stringify(["Lifeguards on duty", "Respect swimming zones", "Apply sunscreen", "Watch belongings"]),
    localRules: JSON.stringify(["Respect local customs", "No alcohol", "Dress appropriately"]),
    accessInfo: "Located in Male City, easily accessible by taxi or on foot.",
    typicalCost: "Free entry, activities $10-30",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/DGxKUIGfYDbVsKQZ.jpg",
    nearestIsland: "Male",
    distanceFromIsland: "~1 km",
    published: 1,
    featured: 0,
  },
  {
    placeId: 21,
    name: "Malé Friday Mosque",
    slug: "male-friday-mosque",
    attractionType: "poi",
    overview: "Malé Friday Mosque is an iconic Islamic landmark featuring stunning architecture and intricate Islamic design. This beautiful mosque is one of the most important religious sites in the Maldives.",
    difficulty: "beginner",
    bestSeason: "Year-round",
    facilities: JSON.stringify(["Mosque", "Ablution Facilities", "Information Center"]),
    safetyTips: JSON.stringify(["Dress modestly", "Remove shoes before entering", "Respect prayer times", "Ask permission for photography"]),
    localRules: JSON.stringify(["Respect Islamic customs", "No photography during prayers", "Women should cover arms and legs"]),
    accessInfo: "Located in Male City center, easily accessible by taxi or on foot.",
    typicalCost: "Free entry",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/pZyLIXALLogUhjDx.jpg",
    nearestIsland: "Male",
    distanceFromIsland: "City center",
    published: 1,
    featured: 0,
  },
  {
    placeId: 22,
    name: "Hulhumalé Beach",
    slug: "hulhumale-beach",
    attractionType: "poi",
    overview: "Hulhumalé Beach is a beautiful sandy beach offering swimming, water sports, and relaxation. This modern resort island features excellent facilities and is easily accessible from the airport.",
    difficulty: "beginner",
    bestSeason: "Year-round",
    facilities: JSON.stringify(["Beach Access", "Water Sports", "Restaurants", "Shops", "Hotels"]),
    safetyTips: JSON.stringify(["Lifeguards available", "Respect swimming zones", "Apply sunscreen", "Watch belongings"]),
    localRules: JSON.stringify(["Respect local customs", "No alcohol in public areas", "Dress appropriately"]),
    accessInfo: "Located near Male, approximately 10-15 minutes from airport by speedboat.",
    typicalCost: "Free beach access, activities $15-40",
    heroImage: "https://files.manuscdn.com/user_upload_by_module/session_file/310519663326824110/KduUuNxLlBaRYVvD.jpg",
    nearestIsland: "Hulhumalé",
    distanceFromIsland: "~1 km",
    published: 1,
    featured: 0,
  },
];

async function seedPopularAttractions() {
  let connection;
  try {
    const databaseUrl = process.env.DATABASE_URL;
    if (!databaseUrl) {
      throw new Error("DATABASE_URL environment variable is not set");
    }

    const url = new URL(databaseUrl);
    const config = {
      host: url.hostname,
      user: url.username,
      password: url.password,
      database: url.pathname.slice(1),
      ssl: { rejectUnauthorized: false },
    };

    console.log(`Connecting to database at ${config.host}...\n`);
    connection = await mysql.createConnection(config);
    console.log("✓ Connected to database\n");

    for (const attraction of popularAttractions) {
      const query = `
        INSERT INTO attraction_guides (
          placeId, name, slug, attractionType, overview, difficulty, bestSeason,
          depthRange, waveHeight, marineLife, facilities, safetyTips, localRules,
          accessInfo, typicalCost, heroImage, nearestIsland, distanceFromIsland,
          published, featured
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
      `;

      const values = [
        attraction.placeId,
        attraction.name,
        attraction.slug,
        attraction.attractionType,
        attraction.overview,
        attraction.difficulty || null,
        attraction.bestSeason || null,
        attraction.depthRange || null,
        attraction.waveHeight || null,
        attraction.marineLife || null,
        attraction.facilities || null,
        attraction.safetyTips || null,
        attraction.localRules || null,
        attraction.accessInfo || null,
        attraction.typicalCost || null,
        attraction.heroImage || null,
        attraction.nearestIsland || null,
        attraction.distanceFromIsland || null,
        attraction.published,
        attraction.featured,
      ];

      await connection.execute(query, values);
      console.log(`✓ Created: ${attraction.name}`);
    }

    console.log("\n✅ Successfully seeded all popular attractions!\n");
  } catch (error) {
    console.error("Error seeding attractions:", error.message);
    process.exit(1);
  } finally {
    if (connection) {
      await connection.end();
    }
  }
}

seedPopularAttractions();
